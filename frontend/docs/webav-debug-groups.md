# WebAV è°ƒè¯•ä¿¡æ¯åˆ†ç»„è¯´æ˜

## ğŸ“‹ è°ƒè¯•ä¿¡æ¯åˆ†ç»„æ¦‚è§ˆ

WebAVè°ƒè¯•ä¿¡æ¯å·²ç»æŒ‰ç…§åŠŸèƒ½å’Œæµç¨‹è¿›è¡Œäº†åˆ†ç»„ï¼Œä½¿ç”¨ä¸åŒçš„å‰ç¼€å’Œemojiæ¥åŒºåˆ†ä¸åŒç±»å‹çš„è°ƒè¯•ä¿¡æ¯ã€‚

## ğŸš€ åˆå§‹åŒ–ç›¸å…³ (INIT)

### ä¸»è¦å‰ç¼€
- `ğŸš€ [WebAV Init]` - ä¸»è¦åˆå§‹åŒ–æµç¨‹
- `ğŸ“¦ [Container]` - å®¹å™¨åˆ›å»ºç›¸å…³
- `ğŸ¨ [Canvas]` - ç”»å¸ƒåˆ›å»ºç›¸å…³
- `ğŸ§ [Events]` - äº‹ä»¶ç›‘å¬å™¨è®¾ç½®

### æ¶µç›–çš„æµç¨‹
1. **WebAV Canvasåˆå§‹åŒ–** - å®Œæ•´çš„9æ­¥åˆå§‹åŒ–æµç¨‹
2. **å®¹å™¨åˆ›å»º** - ç¨‹åºåŒ–åˆ›å»ºç”»å¸ƒå®¹å™¨
3. **äº‹ä»¶ç›‘å¬å™¨è®¾ç½®** - æ’­æ”¾ã€æš‚åœã€æ—¶é—´æ›´æ–°ç­‰äº‹ä»¶
4. **æ€§èƒ½ç›‘æ§** - åˆå§‹åŒ–å„é˜¶æ®µçš„è€—æ—¶ç»Ÿè®¡

### ç¤ºä¾‹æ—¥å¿—
```
ğŸš€ [WebAV Init] Starting WebAV Canvas initialization
ğŸ“¦ [Container] Creating canvas container...
ğŸ¨ [Canvas] AVCanvas instance created successfully
ğŸ‰ ğŸš€ [WebAV Init] Initialization completed successfully!
```

## ğŸ”„ ç”»å¸ƒé‡å»ºç›¸å…³ (REBUILD)

### ä¸»è¦å‰ç¼€
- `ğŸ”„ [Canvas Rebuild]` - ä¸»è¦é‡å»ºæµç¨‹
- `ğŸ’¥ [Destroy]` - ç”»å¸ƒé”€æ¯è¿‡ç¨‹
- `ğŸ“¦ [Backup]` - å†…å®¹å¤‡ä»½è¿‡ç¨‹
- `ğŸ”„ [Restore]` - å†…å®¹æ¢å¤è¿‡ç¨‹
- `ğŸ“ [Coordinates]` - åæ ‡è½¬æ¢è¿‡ç¨‹

### æ¶µç›–çš„æµç¨‹
1. **ç”»å¸ƒé”€æ¯** - å¤‡ä»½å½“å‰çŠ¶æ€å¹¶é”€æ¯ç”»å¸ƒ
2. **å†…å®¹å¤‡ä»½** - å¤‡ä»½æ‰€æœ‰spriteså’Œæ’­æ”¾çŠ¶æ€
3. **ç”»å¸ƒé‡å»º** - ä½¿ç”¨æ–°å‚æ•°é‡æ–°åˆ›å»ºç”»å¸ƒ
4. **å†…å®¹æ¢å¤** - æ¢å¤spritesã€åæ ‡è½¬æ¢ã€å±æ€§è®¾ç½®
5. **çŠ¶æ€åŒæ­¥** - é‡æ–°å»ºç«‹åŒå‘æ•°æ®åŒæ­¥

### ç¤ºä¾‹æ—¥å¿—
```
ğŸ”„ [Canvas Rebuild] Starting canvas destruction
ğŸ“¦ [Backup] Backing up 3 sprites
ğŸ’¥ [Destroy] Destruction completed
ğŸ”„ [Canvas Rebuild] Starting canvas recreation
ğŸ”„ [Restore] Restoring sprite 1/3: video-clip-1
ğŸ“ [Coordinates] Coordinate transform: video-clip-1
ğŸ‰ ğŸ”„ [Canvas Rebuild] Recreation completed successfully!
```

## ğŸ¬ ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç›¸å…³ (LIFECYCLE)

### ä¸»è¦å‰ç¼€
- `ğŸ¬ [Lifecycle]` - ä¸»è¦ç”Ÿå‘½å‘¨æœŸæµç¨‹
- `ğŸ–¼ï¸ [Renderer]` - æ¸²æŸ“å™¨ç»„ä»¶ç›¸å…³
- `âš™ï¸ [Engine]` - ä¸»å¼•æ“ç»„ä»¶ç›¸å…³
- `ğŸª [Store]` - çŠ¶æ€ç®¡ç†ç›¸å…³

### æ¶µç›–çš„æµç¨‹
1. **ç»„ä»¶æŒ‚è½½/å¸è½½** - Vueç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ
2. **WebAVå°±ç»ªçŠ¶æ€** - WebAVå‡†å¤‡å°±ç»ªçš„çŠ¶æ€å˜åŒ–
3. **StoreçŠ¶æ€å˜åŒ–** - AVCanvasã€å°±ç»ªçŠ¶æ€ã€é”™è¯¯çŠ¶æ€çš„å˜åŒ–
4. **æ¸²æŸ“å™¨çŠ¶æ€** - æ¸²æŸ“å™¨ç»„ä»¶çš„çŠ¶æ€å’Œé…ç½®

### ç¤ºä¾‹æ—¥å¿—
```
ğŸ”„ ğŸ¬ [Lifecycle] [WebAV Renderer] mounted
ğŸ–¼ï¸ [Renderer] State: { hasWrapper: true, canvasDisplaySize: {...} }
ğŸª [Store] setWebAVReady: { ready: true, previousReady: false }
âš™ï¸ [Engine] WebAV ready state changed: { isReady: true, ... }
```

## âš¡ æ€§èƒ½ç›‘æ§ç›¸å…³ (PERFORMANCE)

### ä¸»è¦å‰ç¼€
- `âš¡ [Performance]` - ä¸»è¦æ€§èƒ½ç›‘æ§
- `â±ï¸ [Timer]` - è®¡æ—¶å™¨ç›¸å…³
- `ğŸ“Š [Stats]` - ç»Ÿè®¡ä¿¡æ¯

### æ¶µç›–çš„åŠŸèƒ½
1. **æ€§èƒ½è®¡æ—¶** - å…³é”®æ“ä½œçš„è€—æ—¶ç»Ÿè®¡
2. **ç»Ÿè®¡ä¿¡æ¯** - æ“ä½œæˆåŠŸç‡ã€æ•°æ®é‡ç­‰ç»Ÿè®¡
3. **æ€§èƒ½åˆ†æ** - æ€§èƒ½ç“¶é¢ˆè¯†åˆ«

### ç¤ºä¾‹æ—¥å¿—
```
â±ï¸ [Timer] Starting: WebAV Canvas Initialization
â±ï¸ [Timer] Completed: WebAV Canvas Initialization - 45.23ms
ğŸ“Š [Stats] Canvas Rebuild: { restoredSprites: 3, totalTime: "123.45ms" }
```

## ğŸ”§ é€šç”¨è°ƒè¯•å·¥å…·

### é”™è¯¯å¤„ç†
- `debugError()` - ç»Ÿä¸€çš„é”™è¯¯æ—¥å¿—æ ¼å¼
- `debugLog()` - æ¡ä»¶è°ƒè¯•æ—¥å¿—ï¼ˆä»…å¼€å‘ç¯å¢ƒï¼‰

### åˆ†ç»„ç®¡ç†
- `createDebugGroup()` - åˆ›å»ºå¯æŠ˜å çš„æ—¥å¿—åˆ†ç»„
- `console.group()` / `console.groupEnd()` - è‡ªåŠ¨åˆ†ç»„ç®¡ç†

## ğŸ“± ä½¿ç”¨å»ºè®®

### 1. å¼€å‘è°ƒè¯•
- æ‰€æœ‰è°ƒè¯•ä¿¡æ¯åœ¨å¼€å‘ç¯å¢ƒè‡ªåŠ¨å¯ç”¨
- ä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°çš„åˆ†ç»„åŠŸèƒ½æŸ¥çœ‹ç»“æ„åŒ–æ—¥å¿—
- å…³æ³¨æ€§èƒ½è®¡æ—¶ä¿¡æ¯è¯†åˆ«ç“¶é¢ˆ

### 2. é—®é¢˜æ’æŸ¥
- **åˆå§‹åŒ–é—®é¢˜** - æŸ¥çœ‹ `ğŸš€ [WebAV Init]` ç›¸å…³æ—¥å¿—
- **ç”»å¸ƒé‡å»ºé—®é¢˜** - æŸ¥çœ‹ `ğŸ”„ [Canvas Rebuild]` ç›¸å…³æ—¥å¿—
- **ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé—®é¢˜** - æŸ¥çœ‹ `ğŸ¬ [Lifecycle]` ç›¸å…³æ—¥å¿—
- **æ€§èƒ½é—®é¢˜** - æŸ¥çœ‹ `âš¡ [Performance]` ç›¸å…³æ—¥å¿—

### 3. æ—¥å¿—è¿‡æ»¤
åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­å¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨ï¼š
- è¿‡æ»¤åˆå§‹åŒ–: `WebAV Init`
- è¿‡æ»¤é‡å»º: `Canvas Rebuild`
- è¿‡æ»¤ç”Ÿå‘½å‘¨æœŸ: `Lifecycle`
- è¿‡æ»¤æ€§èƒ½: `Performance`

## ğŸ¯ è°ƒè¯•ä¿¡æ¯çš„ä»·å€¼

1. **å¿«é€Ÿå®šä½é—®é¢˜** - é€šè¿‡åˆ†ç»„å¿«é€Ÿæ‰¾åˆ°ç›¸å…³æ—¥å¿—
2. **äº†è§£æ‰§è¡Œæµç¨‹** - æ¸…æ¥šäº†è§£WebAVçš„åˆå§‹åŒ–å’Œé‡å»ºæµç¨‹
3. **æ€§èƒ½ç›‘æ§** - å®æ—¶ç›‘æ§å…³é”®æ“ä½œçš„æ€§èƒ½
4. **çŠ¶æ€è·Ÿè¸ª** - è·Ÿè¸ªç»„ä»¶å’Œæ•°æ®çš„çŠ¶æ€å˜åŒ–
5. **é”™è¯¯è¯Šæ–­** - è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œä¸Šä¸‹æ–‡

è¿™ä¸ªåˆ†ç»„ç»“æ„ä½¿å¾—è°ƒè¯•ä¿¡æ¯æ›´åŠ æœ‰åºå’Œæ˜“äºç†è§£ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½å’Œè§£å†³é—®é¢˜ã€‚
