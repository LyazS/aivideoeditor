# 高级功能

## 🎯 选择系统

### 多选操作
多选功能让您可以同时操作多个视频片段，大大提高编辑效率。

#### 进入多选模式
1. **Ctrl+点击**：按住Ctrl键点击时间轴上的片段
2. **视觉反馈**：多选项目显示绿色边框
3. **主选项目**：最后选择的项目显示蓝色边框
4. **状态显示**：属性面板显示多选状态信息

#### 多选操作
- **批量删除**：选择多个项目后按Delete键
- **批量移动**：拖拽任意选中项目，所有项目一起移动
- **属性同步**：修改属性时应用到所有选中项目（规划中）
- **批量复制**：复制多个项目到其他位置（规划中）

#### 选择管理
- **添加选择**：Ctrl+点击未选中的项目
- **移除选择**：Ctrl+点击已选中的项目
- **清除选择**：点击空白区域或按Escape键
- **全选轨道**：Ctrl+A选择当前轨道所有项目

### 选择同步
时间轴选择与预览窗口选择保持双向同步：
- **时间轴→预览**：选择时间轴项目时，预览窗口对应视频被选中
- **预览→时间轴**：在预览窗口选择视频时，时间轴对应项目被选中
- **多选限制**：多选模式下预览窗口不显示选择状态

## 🚀 拖拽系统

### 素材拖拽
从素材库拖拽文件到时间轴创建新项目：

#### 拖拽过程
1. **开始拖拽**：从素材库拖拽文件
2. **目标高亮**：时间轴轨道高亮显示可放置区域
3. **位置预览**：显示项目将要放置的位置和时长
4. **冲突检测**：如果位置冲突显示红色警告
5. **释放创建**：释放鼠标创建新的时间轴项目

#### 智能放置
- **自动对齐**：自动对齐到时间网格
- **空隙检测**：优先放置到空白区域
- **轨道选择**：根据拖拽位置自动选择轨道
- **时长计算**：根据文件类型自动设置时长

### 项目拖拽
在时间轴内移动和重新排列项目：

#### 单项目拖拽
1. **选择项目**：点击要移动的项目
2. **开始拖拽**：拖拽项目到新位置
3. **实时预览**：显示新位置和可能的冲突
4. **跨轨道移动**：可以拖拽到其他轨道

#### 多项目拖拽
1. **多选项目**：使用Ctrl+点击选择多个项目
2. **批量拖拽**：拖拽任意选中项目
3. **相对位置**：所有项目保持相对位置关系
4. **冲突处理**：如果有冲突会显示警告

### 拖拽预览
统一的拖拽预览系统提供清晰的视觉反馈：
- **目标位置**：高亮显示目标放置位置
- **时长信息**：显示项目的时长信息
- **冲突警告**：红色显示时间冲突区域
- **对齐辅助**：显示对齐参考线

## 🔄 操作历史

### 撤销/重做系统
完整的操作历史管理，支持所有编辑操作的撤销和重做。

#### 支持的操作
- **添加项目**：从素材库添加到时间轴
- **删除项目**：删除时间轴项目
- **移动项目**：调整项目位置
- **属性修改**：位置、大小、旋转、透明度等
- **轨道操作**：添加、删除、重命名轨道
- **批量操作**：自动排列、批量删除等

#### 操作方式
- **撤销**：Ctrl+Z或点击撤销按钮
- **重做**：Ctrl+Y或点击重做按钮
- **历史面板**：查看完整的操作历史（规划中）
- **跳转历史**：直接跳转到历史中的任意状态（规划中）

#### 智能合并
连续的相同类型操作会自动合并：
- **属性调整**：连续的位置、大小调整合并为一个操作
- **时间窗口**：1秒内的相同操作自动合并
- **手动分割**：重要节点可以手动分割历史

### 批量操作
复杂的多步骤操作作为单个历史记录管理：
- **自动排列**：整个轨道的自动排列作为一个操作
- **批量删除**：多个项目的删除作为一个操作
- **批量移动**：多个项目的移动作为一个操作

## 🎛️ 轨道管理

### 轨道操作

#### 添加轨道
1. **点击添加**：点击轨道管理器的"+"按钮
2. **自动命名**：新轨道自动命名为"轨道 N"
3. **位置插入**：新轨道插入到当前轨道下方
4. **立即可用**：新轨道立即可以接受拖拽内容

#### 轨道控制
- **可见性**：点击眼睛图标控制轨道显示/隐藏
- **静音控制**：点击音频图标控制轨道音频开/关
- **轨道重命名**：双击轨道名称进行重命名
- **轨道删除**：点击删除按钮删除轨道

#### 轨道排序
1. **拖拽排序**：拖拽轨道标题调整轨道顺序
2. **层级影响**：轨道顺序影响视频的显示层级
3. **实时更新**：排序变化实时反映到预览窗口

### 轨道属性
- **轨道高度**：根据内容自动调整轨道高度
- **轨道颜色**：不同轨道使用不同的颜色标识（规划中）
- **轨道锁定**：锁定轨道防止意外修改（规划中）

## 🎨 高级编辑

### 精确定位
- **网格对齐**：按住Shift键进行网格对齐
- **磁性吸附**：项目边缘自动吸附到其他项目
- **时间标尺**：使用时间标尺进行精确定位
- **数值输入**：在属性面板输入精确数值

### 属性动画
虽然关键帧动画系统还在开发中，但可以通过以下方式实现简单动画：
1. **起始状态**：设置项目开始时的属性
2. **结束状态**：在时间轴末尾设置不同的属性
3. **播放预览**：播放查看属性变化效果
4. **手动调整**：通过多个项目模拟动画效果

### 层级管理
- **Z-index控制**：在属性面板调整项目的显示层级
- **轨道层级**：上方轨道的内容显示在下方轨道之上
- **透明度混合**：使用透明度创建叠加效果
- **遮罩效果**：通过层级和透明度创建遮罩效果

## 🔧 时间轴高级操作

### 缩放和导航
- **时间轴缩放**：Alt+滚轮调整时间轴显示比例
- **水平滚动**：Shift+滚轮进行水平滚动
- **适应内容**：双击时间轴自动适应所有内容
- **精确导航**：点击时间刻度精确定位

### 自动排列
智能的自动排列功能，优化时间轴布局：

#### 单轨道排列
1. **选择轨道**：点击要排列的轨道
2. **执行排列**：点击"自动排列"按钮
3. **紧密排列**：所有项目紧密排列，消除空隙
4. **保持顺序**：保持项目的原始顺序

#### 排列规则
- **时间顺序**：按照开始时间排序
- **消除空隙**：移除项目间的空白时间
- **保持时长**：不改变项目的时长
- **避免重叠**：确保项目不会重叠

### 时间范围操作
- **选择范围**：拖拽选择时间轴上的时间范围（规划中）
- **范围播放**：只播放选中的时间范围（规划中）
- **范围导出**：只导出选中的时间范围（规划中）

## 🎵 音频功能

### 音量控制
- **项目音量**：在属性面板调整单个项目的音量
- **轨道音量**：控制整个轨道的音量
- **主音量**：控制整体输出音量
- **静音功能**：快速静音/取消静音

### 音频同步
- **音视频同步**：确保音频和视频保持同步
- **播放速度影响**：播放速度变化会影响音频音调
- **延迟补偿**：自动补偿音频播放延迟

## 📊 性能优化

### 预览质量
- **自适应质量**：根据性能自动调整预览质量
- **手动设置**：可以手动设置预览分辨率
- **实时监控**：监控渲染性能和帧率

### 内存管理
- **自动清理**：自动清理不再使用的资源
- **内存监控**：显示当前内存使用情况
- **垃圾回收**：定期进行垃圾回收优化

### 渲染优化
- **硬件加速**：利用GPU进行视频渲染
- **异步处理**：非阻塞的文件处理和解析
- **缓存机制**：缓存常用的渲染结果

## 💡 使用技巧

### 效率提升
1. **快捷键**：熟练使用快捷键提高操作效率
2. **多选操作**：利用多选功能进行批量编辑
3. **自动排列**：使用自动排列功能快速整理时间轴
4. **属性复制**：复制项目可快速应用相同属性

### 工作流程
1. **素材准备**：先在素材库整理好所有文件
2. **粗剪编辑**：在时间轴进行基础的剪辑操作
3. **精细调整**：使用属性面板进行精确调整
4. **预览确认**：在预览窗口确认最终效果

### 最佳实践
1. **渐进编辑**：从简单到复杂的渐进式编辑
2. **定期保存**：重要节点及时保存项目
3. **性能监控**：注意编辑器的性能表现
4. **备份重要**：重要项目及时备份

## 🔮 即将推出

### 关键帧动画
- **关键帧编辑**：支持关键帧动画编辑
- **缓动函数**：多种动画缓动效果
- **动画预设**：常用动画效果预设

### 高级编辑
- **视频分割**：在任意位置分割视频片段
- **片段合并**：相邻片段的智能合并
- **滤镜效果**：内置多种视频滤镜
- **转场效果**：片段间的转场动画

### 导出功能
- **多格式导出**：支持多种视频格式导出
- **质量设置**：可调整的导出质量参数
- **批量导出**：批量导出多个项目

---

**提示**：这些高级功能可以帮助您创建更专业的视频作品。建议在掌握基础操作后逐步学习使用。
