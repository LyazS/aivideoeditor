# 布局控制功能更新说明

## 修改概述

根据用户要求，对属性面板进行了以下修改：
1. 移除了"适应画布"按钮
2. 在"位置大小"栏目后添加了新的"布局控制"栏目
3. 实现了6种对齐功能：左对齐、水平居中、右对齐、顶对齐、垂直居中、底对齐

## 新增功能详情

### 布局控制栏目

新增的布局控制栏目包含两行对齐按钮：

#### 水平对齐
- **左对齐**：将视频片段的左边缘对齐到画布的左边缘
- **水平居中**：将视频片段水平居中对齐到画布中心
- **右对齐**：将视频片段的右边缘对齐到画布的右边缘

#### 垂直对齐
- **顶对齐**：将视频片段的顶边缘对齐到画布的顶边缘
- **垂直居中**：将视频片段垂直居中对齐到画布中心
- **底对齐**：将视频片段的底边缘对齐到画布的底边缘

## 技术实现

### 对齐算法

对齐功能基于以下计算：

#### 水平对齐计算
```javascript
const canvasWidth = videoStore.videoResolution.width
const { width: videoWidth } = videoStore.getVideoDisplaySize(clipId, scaleX, scaleY)

// 左对齐
newX = -canvasWidth / 2 + videoWidth / 2

// 水平居中
newX = 0

// 右对齐
newX = canvasWidth / 2 - videoWidth / 2
```

#### 垂直对齐计算
```javascript
const canvasHeight = videoStore.videoResolution.height
const { height: videoHeight } = videoStore.getVideoDisplaySize(clipId, scaleX, scaleY)

// 顶对齐
newY = -canvasHeight / 2 + videoHeight / 2

// 垂直居中
newY = 0

// 底对齐
newY = canvasHeight / 2 - videoHeight / 2
```

### 新增函数

#### `alignHorizontal(alignment: 'left' | 'center' | 'right')`
- 处理水平对齐逻辑
- 根据对齐类型计算新的X坐标
- 更新视频片段的位置

#### `alignVertical(alignment: 'top' | 'middle' | 'bottom')`
- 处理垂直对齐逻辑
- 根据对齐类型计算新的Y坐标
- 更新视频片段的位置

### UI设计

#### 按钮布局
- 每行3个按钮，均匀分布
- 使用SVG图标直观显示对齐方向
- 悬停效果提供视觉反馈

#### 图标设计
- **左对齐**：矩形块左对齐 + 左侧参考线
- **水平居中**：矩形块居中对齐 + 中央参考线
- **右对齐**：矩形块右对齐 + 右侧参考线
- **顶对齐**：矩形块顶对齐 + 顶部参考线
- **垂直居中**：矩形块居中对齐 + 中央参考线
- **底对齐**：矩形块底对齐 + 底部参考线

## 样式特性

### 按钮样式
- 深色主题适配
- 统一的尺寸（32x32px）
- 圆角边框设计
- 悬停和点击状态反馈

### 响应式设计
- 按钮自适应容器宽度
- 保持图标清晰度
- 适配不同屏幕尺寸

## 使用方法

1. 在时间轴上选择一个视频片段
2. 在属性面板中找到"布局控制"栏目
3. 点击相应的对齐按钮：
   - 水平对齐：选择左对齐、水平居中或右对齐
   - 垂直对齐：选择顶对齐、垂直居中或底对齐
4. 视频片段会立即移动到对应的对齐位置

## 注意事项

- 对齐功能会考虑视频片段的当前缩放状态
- 对齐基于视频片段的实际显示尺寸，而非原始尺寸
- 对齐后的位置会立即反映在位置控制的X、Y数值中
- 可以组合使用水平和垂直对齐（例如：左上角对齐）

## 兼容性

- 与现有的缩放、旋转、透明度等功能完全兼容
- 支持等比缩放和非等比缩放模式
- 适用于所有分辨率的视频片段和画布设置

## 移除的功能

- 移除了"适应画布"按钮及其相关功能
- 清理了相关的CSS样式代码
- 保持了核心的缩放计算逻辑不变
